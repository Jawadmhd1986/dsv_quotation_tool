<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quotation Generator</title>
  <style>
  * {
    box-sizing: border-box;
  }

  html, body {
  margin: 0;
  padding: 0;
  font-family: Arial, sans-serif;
  background-color: #002c77;
  color: white;
  height: 100vh;
  overflow: hidden;

  display: flex;
  justify-content: center;
  align-items: center;
}

  .container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 1rem;
    max-width: 400px;
    margin: auto;
    background: #00389b;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(0,0,0,0.2);
  }

  img.logo {
    width: 200px;
    display: block;
    margin: 0 auto 0.1rem; /* Reduced bottom space */
  }

  h1 {
    text-align: center;
    margin-top: 0;
    margin-bottom: 0.8rem;
    font-size: 1.5rem;
  }

  label {
    margin: 0.3rem 0 0.2rem;
    font-weight: bold;
    font-size: 0.95rem;
  }

  input, select {
    width: 100%;
    padding: 0.4rem;
    margin-bottom: 0.6rem;
    border-radius: 5px;
    border: none;
    font-size: 0.9rem;
  }

  button {
    background-color: #002c77;
    color: white;
    padding: 0.6rem;
    border: none;
    border-radius: 5px;
    font-weight: bold;
    font-size: 0.95rem;
    cursor: pointer;
  }

  button:hover {
    background-color: #001f55;
  }
</style>

</head>
<body>
  <div class="container">
    <img src="{{ url_for('static', filename='dsv_logo.png') }}" alt="DSV Logo" class="logo">
    <h1>Quotation Generator</h1>
    <form action="/generate" method="post">
      <label for="storage_type">Storage Type</label>
      <select id="storage_type" name="storage_type" required>
        <option value="">-- Select --</option>
        <option>AC</option>
        <option>Non-AC</option>
        <option>Open Shed</option>
        <option>Chemicals AC</option>
        <option>Chemicals Non-AC</option>
        <option>Open Yard - KIZAD</option>
        <option>Open Yard - Mussafah</option>
      </select>

      <label for="volume">Volume (CBM or SQM)</label>
      <input type="number" step="0.01" name="volume" required>

      <label for="days">Duration (Days)</label>
      <input type="number" name="days" required>

      <label for="wms">Include WMS?</label>
      <select name="wms" required>
        <option>Yes</option>
        <option>No</option>
      </select>

      <label for="email">Recipient Email (optional)</label>
      <input type="email" name="email">

      <button type="submit">Generate Quotation</button>
    </form>
  </div>

    <!-- Chat Icon -->
  <div style="position: fixed; bottom: 20px; right: 20px; z-index: 9999;">
    <button onclick="openBot()" style="background: transparent; border: none; padding: 0; cursor: pointer;">
      <img src="{{ url_for('static','chat-icon.png') }}"
           alt="Chat Icon"
           style="width: 60px; height: 60px; border-radius: 50%; box-shadow: 0 2px 6px rgba(0,0,0,0.2);">
    </button>
  </div>

  <!-- Chat Box -->
  <div id="chat-box"
       style="display:none;
              position: fixed;
              bottom: 80px;
              right: 20px;
              width: 300px;
              background: #fff;
              color: #000;
              border-radius: 10px;
              box-shadow: 0 2px 8px rgba(0,0,0,0.2);
              flex-direction: column;
              font-family: Arial, sans-serif;">
    <!-- Header with close button -->
    <div style="background: #002c77;
                color: #fff;
                padding: 10px;
                position: relative;
                border-top-left-radius: 10px;
                border-top-right-radius: 10px;
                font-weight: bold;">
      DSV Assistant
      <button onclick="closeBot()"
              style="position: absolute;
                     top: 8px;
                     right: 8px;
                     background: transparent;
                     border: none;
                     color: #fff;
                     font-size: 1.2rem;
                     cursor: pointer;">
        Ã—
      </button>
    </div>

    <!-- Messages -->
    <div id="chat-messages"
         style="padding: 10px;
                height: 350px;
                overflow-y: auto;
                background: #f9f9f9;">
    </div>

    <!-- Input -->
    <div style="display: flex; border-top: 1px solid #ccc;">
      <textarea id="chat-input"
                placeholder="Type your message..."
                style="flex:1; border:none; padding:8px; resize:none; height:48px;"></textarea>
      <button onclick="sendMessage()"
              style="background: #002c77;
                     color: #fff;
                     border: none;
                     padding: 8px 12px;
                     cursor: pointer;">
        Send
      </button>
    </div>
  </div>

  <script src="{{ url_for('static','chatbot.js') }}"></script>

